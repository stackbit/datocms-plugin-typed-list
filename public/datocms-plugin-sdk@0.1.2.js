!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("DatoCmsPlugin",[],t):"object"==typeof exports?exports.DatoCmsPlugin=t():e.DatoCmsPlugin=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([function(e,t,r){"use strict";var n=r(3),o="object"==typeof self&&self&&self.Object===Object&&self,a=n.a||o||Function("return this")();t.a=a},function(e,t,r){"use strict";(function(e){var n=r(3),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o&&n.a.process,c=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();t.a=c}).call(this,r(4)(e))},function(e,t,r){"use strict";(function(e){var n=r(0),o=r(7),a="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,c=i&&i.exports===a?n.a.Buffer:void 0,u=(c?c.isBuffer:void 0)||o.a;t.a=u}).call(this,r(4)(e))},function(e,t,r){"use strict";(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.a=r}).call(this,r(11))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;var n="message";t.ERR_CONNECTION_DESTROYED="ConnectionDestroyed";t.ERR_CONNECTION_TIMEOUT="ConnectionTimeout";t.ERR_NOT_IN_IFRAME="NotInIframe";t.ERR_IFRAME_ALREADY_ATTACHED_TO_DOM="IframeAlreadyAttachedToDom";var o,a={"http:":"80","https:":"443"},i=/^(https?:|file:)?\/\/([^/:]+)?(:(\d+))?/,c={ERR_CONNECTION_DESTROYED:"ConnectionDestroyed",ERR_CONNECTION_TIMEOUT:"ConnectionTimeout",ERR_NOT_IN_IFRAME:"NotInIframe",ERR_IFRAME_ALREADY_ATTACHED_TO_DOM:"IframeAlreadyAttachedToDom",Promise:function(){try{return window?window.Promise:null}catch(e){return null}}(),debug:!1},u=(o=0,function(){return++o}),s=function(){if(c.debug){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,["[Penpal]"].concat(r))}},l=function(e){var t=[];return e((function(){t.forEach((function(e){e()}))})),{then:function(e){t.push(e)}}},f=function(e){return{name:e.name,message:e.message,stack:e.stack}},v=function(e){var t=new Error;return Object.keys(e).forEach((function(r){return t[r]=e[r]})),t},p=function(e,t,r,o,a){var i=t.localName,l=t.local,f=t.remote,p=t.remoteOrigin,d=!1;s("".concat(i,": Connecting call sender"));a.then((function(){d=!0})),r.reduce((function(e,t){return e[t]=function(e){return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(s("".concat(i,": Sending ").concat(e,"() call")),f.closed&&o(),d){var h=new Error("Unable to send ".concat(e,"() call due ")+"to destroyed connection");throw h.code="ConnectionDestroyed",h}return new c.Promise((function(t,o){var a=u();l.addEventListener(n,(function r(c){if(c.source===f&&c.origin===p&&"reply"===c.data.penpal&&c.data.id===a){s("".concat(i,": Received ").concat(e,"() reply")),l.removeEventListener(n,r);var u=c.data.returnValue;c.data.returnValueIsError&&(u=v(u)),("fulfilled"===c.data.resolution?t:o)(u)}})),f.postMessage({penpal:"call",id:a,methodName:e,args:r},p)}))}}(t),e}),e)},d=function(e,t,r){var o=e.localName,a=e.local,i=e.remote,u=e.remoteOrigin,l=!1;s("".concat(o,": Connecting call receiver"));var v=function(e){if(e.source===i&&e.origin===u&&"call"===e.data.penpal){var r=e.data,n=r.methodName,a=r.args,v=r.id;if(s("".concat(o,": Received ").concat(n,"() call")),n in t){var p=function(e){return function(t){if(s("".concat(o,": Sending ").concat(n,"() reply")),l)s("".concat(o,": Unable to send ").concat(n,"() reply due to destroyed connection"));else{var r={penpal:"reply",id:v,resolution:e,returnValue:t};"rejected"===e&&t instanceof Error&&(r.returnValue=f(t),r.returnValueIsError=!0);try{i.postMessage(r,u)}catch(e){throw"DataCloneError"===e.name&&i.postMessage({penpal:"reply",id:v,resolution:"rejected",returnValue:f(e),returnValueIsError:!0},u),e}}}};new c.Promise((function(e){return e(t[n].apply(t,a))})).then(p("fulfilled"),p("rejected"))}}};a.addEventListener(n,v),r.then((function(){l=!0,a.removeEventListener(n,v)}))};c.connectToChild=function(e){var t,r=e.url,o=e.appendTo,u=e.iframe,f=e.methods,v=void 0===f?{}:f,h=e.timeout;if(u&&u.parentNode){var y=new Error("connectToChild() must not be called with an iframe already attached to DOM");throw y.code="IframeAlreadyAttachedToDom",y}var b=new l((function(e){t=e})),_=window;(u=u||document.createElement("iframe")).src=r;var g=function(e){var t,r,n,o=document.location,c=i.exec(e);if(c?(t=c[1]?c[1]:o.protocol,r=c[2],n=c[4]):(t=o.protocol,r=o.hostname,n=o.port),"file:"===t)return"null";var u=n&&n!==a[t]?":".concat(n):"";return"".concat(t,"//").concat(r).concat(u)}(r);return{promise:new c.Promise((function(e,r){var a;void 0!==h&&(a=setTimeout((function(){var e=new Error("Connection to child timed out after ".concat(h,"ms"));e.code="ConnectionTimeout",r(e),t()}),h));var i,c,f={},y=function(r){var n=u.contentWindow;if(r.source===n&&r.origin===g&&"handshake"===r.data.penpal){s("Parent: Received handshake, sending reply");var o="null"===r.origin?"*":r.origin;r.source.postMessage({penpal:"handshake-reply",methodNames:Object.keys(v)},o);var h={localName:"Parent",local:_,remote:n,remoteOrigin:o};c&&c();var y=new l((function(e){b.then(e),c=e}));d(h,v,y),i&&i.forEach((function(e){delete f[e]})),i=r.data.methodNames,p(f,h,i,t,b),clearTimeout(a),e(f)}};_.addEventListener(n,y),s("Parent: Loading iframe"),(o||document.body).appendChild(u);var j=setInterval((function(){document.body.contains(u)||(clearInterval(j),t())}),6e4);b.then((function(){u.parentNode&&u.parentNode.removeChild(u),_.removeEventListener(n,y),clearInterval(j);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",r(e)}))})),iframe:u,destroy:t}},c.connectToParent=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.parentOrigin,o=void 0===r?"*":r,a=t.methods,i=void 0===a?{}:a,u=t.timeout;if(window===window.top){var f=new Error("connectToParent() must be called within an iframe");throw f.code="NotInIframe",f}var v=new l((function(t){e=t})),h=window,y=h.parent,b=new c.Promise((function(t,r){var a;void 0!==u&&(a=setTimeout((function(){var t=new Error("Connection to parent timed out after ".concat(u,"ms"));t.code="ConnectionTimeout",r(t),e()}),u));var c=function r(c){if(("*"===o||o===c.origin)&&c.source===y&&"handshake-reply"===c.data.penpal){s("Child: Received handshake reply"),h.removeEventListener(n,r);var u={localName:"Child",local:h,remote:y,remoteOrigin:c.origin},l={};d(u,i,v),p(l,u,c.data.methodNames,e,v),clearTimeout(a),t(l)}};h.addEventListener(n,c),v.then((function(){h.removeEventListener(n,c);var e=new Error("Connection destroyed");e.code="ConnectionDestroyed",r(e)})),s("Child: Sending handshake"),y.postMessage({penpal:"handshake",methodNames:Object.keys(i)},o)}));return{promise:b,destroy:e}};var h=c;t.default=h},function(e,t,r){"use strict";e.exports=(e,{include:t,exclude:r}={})=>{const n=e=>{const n=t=>"string"==typeof t?e===t:t.test(e);return t?t.some(n):!r||!r.some(n)};for(const[t,r]of(e=>{const t=new Set;do{for(const r of Reflect.ownKeys(e))t.add([e,r])}while((e=Reflect.getPrototypeOf(e))&&e!==Object.prototype);return t})(e.constructor.prototype)){if("constructor"===r||!n(r))continue;const o=Reflect.getOwnPropertyDescriptor(t,r);o&&"function"==typeof o.value&&(e[r]=e[r].bind(e))}return e}},function(e,t,r){"use strict";t.a=function(){return!1}},function(e,t,r){"use strict";(function(e){var n=r(0),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=a&&a.exports===o?n.a.Buffer:void 0,c=i?i.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var r=e.length,n=c?c(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(4)(e))},function(e,t,r){e.exports=r(12).default},function(e,t,r){},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.r(t);var n=r(5),o=r.n(n),a=Array.isArray,i=r(0),c=i.a.Symbol,u=Object.prototype,s=u.hasOwnProperty,l=u.toString,f=c?c.toStringTag:void 0;var v=function(e){var t=s.call(e,f),r=e[f];try{e[f]=void 0;var n=!0}catch(e){}var o=l.call(e);return n&&(t?e[f]=r:delete e[f]),o},p=Object.prototype.toString;var d=function(e){return p.call(e)},h=c?c.toStringTag:void 0;var y=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":h&&h in Object(e)?v(e):d(e)};var b=function(e){return null!=e&&"object"==typeof e};var _=function(e){return"symbol"==typeof e||b(e)&&"[object Symbol]"==y(e)},g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j=/^\w*$/;var m=function(e,t){if(a(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!_(e))||(j.test(e)||!g.test(e)||null!=t&&e in Object(t))};var w=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var O,A=function(e){if(!w(e))return!1;var t=y(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},E=i.a["__core-js_shared__"],T=(O=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"";var C=function(e){return!!T&&T in e},I=Function.prototype.toString;var R=function(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""},P=/^\[object .+?Constructor\]$/,k=Function.prototype,S=Object.prototype,N=k.toString,x=S.hasOwnProperty,D=RegExp("^"+N.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var M=function(e){return!(!w(e)||C(e))&&(A(e)?D:P).test(R(e))};var F=function(e,t){return null==e?void 0:e[t]};var z=function(e,t){var r=F(e,t);return M(r)?r:void 0},U=z(Object,"create");var L=function(){this.__data__=U?U(null):{},this.size=0};var V=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},H=Object.prototype.hasOwnProperty;var B=function(e){var t=this.__data__;if(U){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return H.call(t,e)?t[e]:void 0},$=Object.prototype.hasOwnProperty;var q=function(e){var t=this.__data__;return U?void 0!==t[e]:$.call(t,e)};var W=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=U&&void 0===t?"__lodash_hash_undefined__":t,this};function Y(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Y.prototype.clear=L,Y.prototype.delete=V,Y.prototype.get=B,Y.prototype.has=q,Y.prototype.set=W;var G=Y;var K=function(){this.__data__=[],this.size=0};var Z=function(e,t){return e===t||e!=e&&t!=t};var J=function(e,t){for(var r=e.length;r--;)if(Z(e[r][0],t))return r;return-1},Q=Array.prototype.splice;var X=function(e){var t=this.__data__,r=J(t,e);return!(r<0)&&(r==t.length-1?t.pop():Q.call(t,r,1),--this.size,!0)};var ee=function(e){var t=this.__data__,r=J(t,e);return r<0?void 0:t[r][1]};var te=function(e){return J(this.__data__,e)>-1};var re=function(e,t){var r=this.__data__,n=J(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function ne(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ne.prototype.clear=K,ne.prototype.delete=X,ne.prototype.get=ee,ne.prototype.has=te,ne.prototype.set=re;var oe=ne,ae=z(i.a,"Map");var ie=function(){this.size=0,this.__data__={hash:new G,map:new(ae||oe),string:new G}};var ce=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var ue=function(e,t){var r=e.__data__;return ce(t)?r["string"==typeof t?"string":"hash"]:r.map};var se=function(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t};var le=function(e){return ue(this,e).get(e)};var fe=function(e){return ue(this,e).has(e)};var ve=function(e,t){var r=ue(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function pe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pe.prototype.clear=ie,pe.prototype.delete=se,pe.prototype.get=le,pe.prototype.has=fe,pe.prototype.set=ve;var de=pe;function he(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],a=r.cache;if(a.has(o))return a.get(o);var i=e.apply(this,n);return r.cache=a.set(o,i)||a,i};return r.cache=new(he.Cache||de),r}he.Cache=de;var ye=he;var be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_e=/\\(\\)?/g,ge=function(e){var t=ye(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(be,(function(e,r,n,o){t.push(n?o.replace(_e,"$1"):r||e)})),t}));var je=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},me=c?c.prototype:void 0,we=me?me.toString:void 0;var Oe=function e(t){if("string"==typeof t)return t;if(a(t))return je(t,e)+"";if(_(t))return we?we.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};var Ae=function(e){return null==e?"":Oe(e)};var Ee=function(e,t){return a(e)?e:m(e,t)?[e]:ge(Ae(e))};var Te=function(e){if("string"==typeof e||_(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Ce=function(e,t){for(var r=0,n=(t=Ee(t,e)).length;null!=e&&r<n;)e=e[Te(t[r++])];return r&&r==n?e:void 0};var Ie=function(e,t,r){var n=null==e?void 0:Ce(e,t);return void 0===n?r:n};var Re=function(){this.__data__=new oe,this.size=0};var Pe=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var ke=function(e){return this.__data__.get(e)};var Se=function(e){return this.__data__.has(e)};var Ne=function(e,t){var r=this.__data__;if(r instanceof oe){var n=r.__data__;if(!ae||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new de(n)}return r.set(e,t),this.size=r.size,this};function xe(e){var t=this.__data__=new oe(e);this.size=t.size}xe.prototype.clear=Re,xe.prototype.delete=Pe,xe.prototype.get=ke,xe.prototype.has=Se,xe.prototype.set=Ne;var De=xe;var Me=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var Fe=function(e){return this.__data__.has(e)};function ze(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new de;++t<r;)this.add(e[t])}ze.prototype.add=ze.prototype.push=Me,ze.prototype.has=Fe;var Ue=ze;var Le=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var Ve=function(e,t){return e.has(t)};var He=function(e,t,r,n,o,a){var i=1&r,c=e.length,u=t.length;if(c!=u&&!(i&&u>c))return!1;var s=a.get(e);if(s&&a.get(t))return s==t;var l=-1,f=!0,v=2&r?new Ue:void 0;for(a.set(e,t),a.set(t,e);++l<c;){var p=e[l],d=t[l];if(n)var h=i?n(d,p,l,t,e,a):n(p,d,l,e,t,a);if(void 0!==h){if(h)continue;f=!1;break}if(v){if(!Le(t,(function(e,t){if(!Ve(v,t)&&(p===e||o(p,e,r,n,a)))return v.push(t)}))){f=!1;break}}else if(p!==d&&!o(p,d,r,n,a)){f=!1;break}}return a.delete(e),a.delete(t),f},Be=i.a.Uint8Array;var $e=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var qe=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},We=c?c.prototype:void 0,Ye=We?We.valueOf:void 0;var Ge=function(e,t,r,n,o,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Be(e),new Be(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Z(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=$e;case"[object Set]":var u=1&n;if(c||(c=qe),e.size!=t.size&&!u)return!1;var s=i.get(e);if(s)return s==t;n|=2,i.set(e,t);var l=He(c(e),c(t),n,o,a,i);return i.delete(e),l;case"[object Symbol]":if(Ye)return Ye.call(e)==Ye.call(t)}return!1};var Ke=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e};var Ze=function(e,t,r){var n=t(e);return a(e)?n:Ke(n,r(e))};var Je=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[o++]=i)}return a};var Qe=function(){return[]},Xe=Object.prototype.propertyIsEnumerable,et=Object.getOwnPropertySymbols,tt=et?function(e){return null==e?[]:(e=Object(e),Je(et(e),(function(t){return Xe.call(e,t)})))}:Qe;var rt=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var nt=function(e){return b(e)&&"[object Arguments]"==y(e)},ot=Object.prototype,at=ot.hasOwnProperty,it=ot.propertyIsEnumerable,ct=nt(function(){return arguments}())?nt:function(e){return b(e)&&at.call(e,"callee")&&!it.call(e,"callee")},ut=r(2),st=/^(?:0|[1-9]\d*)$/;var lt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&st.test(e))&&e>-1&&e%1==0&&e<t};var ft=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},vt={};vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var pt=function(e){return b(e)&&ft(e.length)&&!!vt[y(e)]};var dt=function(e){return function(t){return e(t)}},ht=r(1),yt=ht.a&&ht.a.isTypedArray,bt=yt?dt(yt):pt,_t=Object.prototype.hasOwnProperty;var gt=function(e,t){var r=a(e),n=!r&&ct(e),o=!r&&!n&&Object(ut.a)(e),i=!r&&!n&&!o&&bt(e),c=r||n||o||i,u=c?rt(e.length,String):[],s=u.length;for(var l in e)!t&&!_t.call(e,l)||c&&("length"==l||o&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||lt(l,s))||u.push(l);return u},jt=Object.prototype;var mt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||jt)};var wt=function(e,t){return function(r){return e(t(r))}},Ot=wt(Object.keys,Object),At=Object.prototype.hasOwnProperty;var Et=function(e){if(!mt(e))return Ot(e);var t=[];for(var r in Object(e))At.call(e,r)&&"constructor"!=r&&t.push(r);return t};var Tt=function(e){return null!=e&&ft(e.length)&&!A(e)};var Ct=function(e){return Tt(e)?gt(e):Et(e)};var It=function(e){return Ze(e,Ct,tt)},Rt=Object.prototype.hasOwnProperty;var Pt=function(e,t,r,n,o,a){var i=1&r,c=It(e),u=c.length;if(u!=It(t).length&&!i)return!1;for(var s=u;s--;){var l=c[s];if(!(i?l in t:Rt.call(t,l)))return!1}var f=a.get(e);if(f&&a.get(t))return f==t;var v=!0;a.set(e,t),a.set(t,e);for(var p=i;++s<u;){var d=e[l=c[s]],h=t[l];if(n)var y=i?n(h,d,l,t,e,a):n(d,h,l,e,t,a);if(!(void 0===y?d===h||o(d,h,r,n,a):y)){v=!1;break}p||(p="constructor"==l)}if(v&&!p){var b=e.constructor,_=t.constructor;b==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _||(v=!1)}return a.delete(e),a.delete(t),v},kt=z(i.a,"DataView"),St=z(i.a,"Promise"),Nt=z(i.a,"Set"),xt=z(i.a,"WeakMap"),Dt=R(kt),Mt=R(ae),Ft=R(St),zt=R(Nt),Ut=R(xt),Lt=y;(kt&&"[object DataView]"!=Lt(new kt(new ArrayBuffer(1)))||ae&&"[object Map]"!=Lt(new ae)||St&&"[object Promise]"!=Lt(St.resolve())||Nt&&"[object Set]"!=Lt(new Nt)||xt&&"[object WeakMap]"!=Lt(new xt))&&(Lt=function(e){var t=y(e),r="[object Object]"==t?e.constructor:void 0,n=r?R(r):"";if(n)switch(n){case Dt:return"[object DataView]";case Mt:return"[object Map]";case Ft:return"[object Promise]";case zt:return"[object Set]";case Ut:return"[object WeakMap]"}return t});var Vt=Lt,Ht=Object.prototype.hasOwnProperty;var Bt=function(e,t,r,n,o,i){var c=a(e),u=a(t),s=c?"[object Array]":Vt(e),l=u?"[object Array]":Vt(t),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),v="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),p=s==l;if(p&&Object(ut.a)(e)){if(!Object(ut.a)(t))return!1;c=!0,f=!1}if(p&&!f)return i||(i=new De),c||bt(e)?He(e,t,r,n,o,i):Ge(e,t,s,r,n,o,i);if(!(1&r)){var d=f&&Ht.call(e,"__wrapped__"),h=v&&Ht.call(t,"__wrapped__");if(d||h){var y=d?e.value():e,b=h?t.value():t;return i||(i=new De),o(y,b,r,n,i)}}return!!p&&(i||(i=new De),Pt(e,t,r,n,o,i))};var $t=function e(t,r,n,o,a){return t===r||(null==t||null==r||!b(t)&&!b(r)?t!=t&&r!=r:Bt(t,r,n,o,e,a))};var qt=function(e,t){return $t(e,t)};var Wt=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},Yt=function(){try{var e=z(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Gt=function(e,t,r){"__proto__"==t&&Yt?Yt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},Kt=Object.prototype.hasOwnProperty;var Zt=function(e,t,r){var n=e[t];Kt.call(e,t)&&Z(n,r)&&(void 0!==r||t in e)||Gt(e,t,r)};var Jt=function(e,t,r,n){var o=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var c=t[a],u=n?n(r[c],e[c],c,r,e):void 0;void 0===u&&(u=e[c]),o?Gt(r,c,u):Zt(r,c,u)}return r};var Qt=function(e,t){return e&&Jt(t,Ct(t),e)};var Xt=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},er=Object.prototype.hasOwnProperty;var tr=function(e){if(!w(e))return Xt(e);var t=mt(e),r=[];for(var n in e)("constructor"!=n||!t&&er.call(e,n))&&r.push(n);return r};var rr=function(e){return Tt(e)?gt(e,!0):tr(e)};var nr=function(e,t){return e&&Jt(t,rr(t),e)},or=r(8);var ar=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t};var ir=function(e,t){return Jt(e,tt(e),t)},cr=wt(Object.getPrototypeOf,Object),ur=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ke(t,tt(e)),e=cr(e);return t}:Qe;var sr=function(e,t){return Jt(e,ur(e),t)};var lr=function(e){return Ze(e,rr,ur)},fr=Object.prototype.hasOwnProperty;var vr=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&fr.call(e,"index")&&(r.index=e.index,r.input=e.input),r};var pr=function(e){var t=new e.constructor(e.byteLength);return new Be(t).set(new Be(e)),t};var dr=function(e,t){var r=t?pr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},hr=/\w*$/;var yr=function(e){var t=new e.constructor(e.source,hr.exec(e));return t.lastIndex=e.lastIndex,t},br=c?c.prototype:void 0,_r=br?br.valueOf:void 0;var gr=function(e){return _r?Object(_r.call(e)):{}};var jr=function(e,t){var r=t?pr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)};var mr=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return pr(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return dr(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return jr(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return yr(e);case"[object Set]":return new n;case"[object Symbol]":return gr(e)}},wr=Object.create,Or=function(){function e(){}return function(t){if(!w(t))return{};if(wr)return wr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();var Ar=function(e){return"function"!=typeof e.constructor||mt(e)?{}:Or(cr(e))};var Er=function(e){return b(e)&&"[object Map]"==Vt(e)},Tr=ht.a&&ht.a.isMap,Cr=Tr?dt(Tr):Er;var Ir=function(e){return b(e)&&"[object Set]"==Vt(e)},Rr=ht.a&&ht.a.isSet,Pr=Rr?dt(Rr):Ir,kr={};kr["[object Arguments]"]=kr["[object Array]"]=kr["[object ArrayBuffer]"]=kr["[object DataView]"]=kr["[object Boolean]"]=kr["[object Date]"]=kr["[object Float32Array]"]=kr["[object Float64Array]"]=kr["[object Int8Array]"]=kr["[object Int16Array]"]=kr["[object Int32Array]"]=kr["[object Map]"]=kr["[object Number]"]=kr["[object Object]"]=kr["[object RegExp]"]=kr["[object Set]"]=kr["[object String]"]=kr["[object Symbol]"]=kr["[object Uint8Array]"]=kr["[object Uint8ClampedArray]"]=kr["[object Uint16Array]"]=kr["[object Uint32Array]"]=!0,kr["[object Error]"]=kr["[object Function]"]=kr["[object WeakMap]"]=!1;var Sr=function e(t,r,n,o,i,c){var u,s=1&r,l=2&r,f=4&r;if(n&&(u=i?n(t,o,i,c):n(t)),void 0!==u)return u;if(!w(t))return t;var v=a(t);if(v){if(u=vr(t),!s)return ar(t,u)}else{var p=Vt(t),d="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(ut.a)(t))return Object(or.a)(t,s);if("[object Object]"==p||"[object Arguments]"==p||d&&!i){if(u=l||d?{}:Ar(t),!s)return l?sr(t,nr(u,t)):ir(t,Qt(u,t))}else{if(!kr[p])return i?t:{};u=mr(t,p,s)}}c||(c=new De);var h=c.get(t);if(h)return h;c.set(t,u),Pr(t)?t.forEach((function(o){u.add(e(o,r,n,o,t,c))})):Cr(t)&&t.forEach((function(o,a){u.set(a,e(o,r,n,a,t,c))}));var y=f?l?lr:It:l?keysIn:Ct,b=v?void 0:y(t);return Wt(b||t,(function(o,a){b&&(o=t[a=o]),Zt(u,a,e(o,r,n,a,t,c))})),u};var Nr=function(e){return Sr(e,5)},xr=c?c.isConcatSpreadable:void 0;var Dr=function(e){return a(e)||ct(e)||!!(xr&&e&&e[xr])};var Mr=function e(t,r,n,o,a){var i=-1,c=t.length;for(n||(n=Dr),a||(a=[]);++i<c;){var u=t[i];r>0&&n(u)?r>1?e(u,r-1,n,o,a):Ke(a,u):o||(a[a.length]=u)}return a};var Fr=function(e){return(null==e?0:e.length)?Mr(e,1/0):[]};var zr=function(e,t){return je(t,(function(t){return[t,e[t]]}))};var Ur=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r};var Lr=function(e){return function(t){var r=Vt(t);return"[object Map]"==r?$e(t):"[object Set]"==r?Ur(t):zr(t,e(t))}}(Ct),Vr=r(6),Hr=r.n(Vr);r(10);function Br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $r(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Wr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Fr(t).join(".")},Yr=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,Gr=function(e){throw console.error(e),new Error(e)},Kr=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hr()(this),this._settings=r,this._parent=t,this._listeners={},this._mutationObserver=new MutationObserver(this._autoUpdateHeight),this._oldHeight=null,Lr(r.theme).forEach((function(e){var t=Br(e,2),r=t[0],n=t[1];document.body.style.setProperty("--".concat(r.replace(Yr,(function(e){return"-".concat(e.toLowerCase())}))),n)})),Ct(this._settings).forEach((function(e){"itemValue"!==e&&Object.defineProperty(n,e,{get:function(){return Nr(n._settings[e])}})}))}var t,r,n;return t=e,(r=[{key:"_autoUpdateHeight",value:function(){this.updateHeight()}},{key:"getFieldValue",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0!==t.length)return Nr(Ie(this._settings.itemValue,Wr(t)));console.error("getFieldValue requires a path")}},{key:"setFieldValue",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<2)console.error("setFieldValue requires path and a new value");else{var n=t.slice(0,-1),o=t[t.length-1],a=Wr(n);this._parent.setFieldValue(a,o)}}},{key:"loadItemTypeFields",value:function(e){return this._parent.loadItemTypeFields(e)}},{key:"toggleField",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<2)console.error("toggleField requires path and a new value");else{var n=t.slice(0,-1),o=t[t.length-1],a=Wr(n);this._parent.toggleField(a,o)}}},{key:"disableField",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<2)console.error("disableField requires path and a new value");else{var n=t.slice(0,-1),o=t[t.length-1],a=Wr(n);this._parent.disableField(a,o)}}},{key:"addChangeListener",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!(r.length<2)){var o=r.slice(0,-1),a=r[r.length-1],i=Wr(o);return this._listeners[i]=this._listeners[i]||[],this._listeners[i].push(a),function(){e._listeners[i].filter((function(e){return e!==a}))}}Gr("addChangeListener requires a path an a callback function")}},{key:"addFieldChangeListener",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!(t.length<2))return this.addChangeListener.apply(this,["itemValue"].concat(t));Gr("addFieldChangeListener requires a path an a callback function")}},{key:"startAutoResizer",value:function(){this.updateHeight(),this._isAutoResizing||(this._isAutoResizing=!0,this._mutationObserver.observe(window.document.body,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),window.addEventListener("resize",this._autoUpdateHeight))}},{key:"stopAutoResizer",value:function(){this._isAutoResizing&&(this._isAutoResizing=!1,this._mutationObserver.disconnect(),window.removeEventListener("resize",this._autoUpdateHeight))}},{key:"updateHeight",value:function(e){var t=null==e?Math.ceil(document.documentElement.getBoundingClientRect().height):e;t!==this._oldHeight&&(this._parent.setHeight(t),this._oldHeight=t)}},{key:"createNewItem",value:function(e){return this._parent.createNewItem(e)}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.multiple,n=void 0!==r&&r;return this._parent.selectItem(e,{multiple:n})}},{key:"editItem",value:function(e){return this._parent.editItem(e)}},{key:"saveCurrentItem",value:function(){return this._parent.saveCurrentItem()}},{key:"navigateTo",value:function(e){return this._parent.navigateTo(e)}},{key:"scrollToField",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0!==t.length){var n=Wr(t),o=t.length>1&&t.slice(-1)[0];return this._parent.scrollToField(n,o)}console.error("scrollToField requires a path")}},{key:"notice",value:function(e){return this._parent.notice(e)}},{key:"alert",value:function(e){return this._parent.alert(e)}},{key:"selectUpload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.multiple,r=void 0!==t&&t;return this._parent.selectUpload({multiple:r})}},{key:"editUpload",value:function(e){return this._parent.editUpload(e)}},{key:"editUploadMetadata",value:function(e){return this._parent.editUploadMetadata(e)}}])&&qr(t.prototype,r),n&&qr(t,n),e}();t.default={init:function(e){var t,r=o.a.connectToParent({methods:{onChange:function(e){t.then((function(t){var r=t._settings;t._settings=e,Lr(t._listeners).forEach((function(t){var n=Br(t,2),o=n[0],a=n[1],i=Ie(e,o),c=Ie(r,o);qt(c,i)||a.forEach((function(e){return e(i,c)}))}))}))}}});return t=r.promise.then((function(e){return e.getSettings().then((function(t){return new Kr(e,t)}))})),void 0===e?t:t.then(e)}}}])}));
//# sourceMappingURL=sdk.js.map